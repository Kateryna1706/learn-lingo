{"version":3,"file":"static/js/395.0e80a0aa.chunk.js","mappings":"kNAqDA,UA7CkB,SAAC,GAAsB,IAApBA,EAAmB,EAAnBA,aACbC,GAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAC1B,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAMMC,EAAmB,WACvB,IAAMC,GAAQC,EAAAA,EAAAA,IAAIC,EAAAA,GAAU,aAE5BC,EAAAA,EAAAA,IAAQH,GAAO,SAAAI,GACb,IAAMC,EAAOD,EAASE,MAAMb,QAAO,SAAAc,GAAI,OAAIA,EAAKC,UAAT,IACvCV,EAAgBO,EACjB,GACF,EAoBD,OAlBAI,EAAAA,EAAAA,YAAU,WACHhB,IAEiB,mBAAlBA,EAAOA,OACTK,GAAgB,SAAAY,GAAS,OACvBA,EAAUjB,QAAO,SAAAc,GAAI,OAAIA,EAAKd,EAAOA,SAAWA,EAAOkB,KAAlC,GADE,IAIzBb,GAAgB,SAAAY,GAAS,OACvBA,EAAUjB,QAAO,SAAAc,GAAI,OAAIA,EAAKd,EAAOA,QAAQmB,SAASnB,EAAOkB,MAAxC,GADE,IAI5B,GAAE,CAAClB,KAEJgB,EAAAA,EAAAA,YAAU,WACRV,GACD,GAAE,KAGD,SAAC,IAAD,WACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAQP,aAAcA,EAAcqB,WAlCvB,WACjBd,GACD,KAiCK,SAAC,IAAD,CAAaF,aAAcA,QAIlC,C","sources":["pages/Favorites.jsx"],"sourcesContent":["import { FilterContex } from 'context';\nimport { Container, Wrapper } from './ListPage.styled';\nimport Filter from 'components/Filter/Filter';\nimport TeacherList from 'components/TeacherList/TeacherList';\nimport { database } from 'firebase-config';\nimport { onValue, ref } from 'firebase/database';\nimport { useContext, useEffect, useState } from 'react';\n\nconst Favorites = ({ changeFilter }) => {\n  const filter = useContext(FilterContex);\n  const [teachersList, setTeachersList] = useState([]);\n\n  const updateList = () => {\n    fetchTeacherList();\n  };\n\n  const fetchTeacherList = () => {\n    const dbRef = ref(database, 'teachers');\n\n    onValue(dbRef, snapshot => {\n      const list = snapshot.val().filter(item => item.isFavorite);\n      setTeachersList(list);\n    });\n  };\n\n  useEffect(() => {\n    if (!filter) return;\n\n    if (filter.filter === 'price_per_hour') {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter] <= filter.value)\n      );\n    } else {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter].includes(filter.value))\n      );\n    }\n  }, [filter]);\n\n  useEffect(() => {\n    fetchTeacherList();\n  }, []);\n\n  return (\n    <Container>\n      <Wrapper>\n        <Filter changeFilter={changeFilter} updateList={updateList} />\n        <TeacherList teachersList={teachersList} />\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Favorites;\n"],"names":["changeFilter","filter","useContext","FilterContex","useState","teachersList","setTeachersList","fetchTeacherList","dbRef","ref","database","onValue","snapshot","list","val","item","isFavorite","useEffect","prevState","value","includes","updateList"],"sourceRoot":""}