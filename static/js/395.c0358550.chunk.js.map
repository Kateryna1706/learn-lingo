{"version":3,"file":"static/js/395.c0358550.chunk.js","mappings":"kNAQA,MAqDA,EArDkBA,IAAuB,IAAtB,aAAEC,GAAcD,EACjC,MACME,GADaC,EAAAA,EAAAA,YAAWC,EAAAA,GACNC,YAAYC,MAC9BC,GAASJ,EAAAA,EAAAA,YAAWK,EAAAA,IAEnBC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,IAsCjD,OAzBAC,EAAAA,EAAAA,YAAU,KACHL,IAEiB,mBAAlBA,EAAOA,OACTG,GAAgBG,GACdA,EAAUN,QAAOO,GAAQA,EAAKP,EAAOA,SAAWA,EAAOQ,UAGzDL,GAAgBG,GACdA,EAAUN,QAAOO,GAAQA,EAAKP,EAAOA,QAAQS,SAAST,EAAOQ,WAEjE,GACC,CAACR,KAEJK,EAAAA,EAAAA,YAAU,KACR,MAAMK,GAAQC,EAAAA,EAAAA,IAAIC,EAAAA,GAAU,aAE5BC,EAAAA,EAAAA,IAAQH,GAAOI,IACb,MAAMC,EAAOD,EACVE,MACAhB,QAAOO,GAAQA,EAAKU,OAASV,EAAKU,MAAMR,SAASd,KACpDQ,EAAgBY,EAAK,GACrB,GACD,CAACpB,KAGFuB,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAAAC,UACRC,EAAAA,EAAAA,MAACC,EAAAA,EAAO,CAAAF,SAAA,EACNF,EAAAA,EAAAA,KAACK,EAAAA,EAAM,CAAC7B,aAAcA,EAAc8B,WAvCvBA,KACjB,MAAMd,GAAQC,EAAAA,EAAAA,IAAIC,EAAAA,GAAU,aAE5BC,EAAAA,EAAAA,IAAQH,GAAOI,IACb,MAAMC,EAAOD,EACVE,MACAhB,QAAOO,GAAQA,EAAKU,OAASV,EAAKU,MAAMR,SAASd,KACpDQ,EAAgBY,EAAK,GACrB,KAgCEG,EAAAA,EAAAA,KAACO,EAAAA,EAAW,CAACvB,aAAcA,QAEnB,C","sources":["pages/Favorites.jsx"],"sourcesContent":["import { Auth, FilterContex } from 'context';\nimport { Container, Wrapper } from './ListPage.styled';\nimport Filter from 'components/Filter/Filter';\nimport TeacherList from 'components/TeacherList/TeacherList';\nimport { database } from 'firebase-config';\nimport { onValue, ref } from 'firebase/database';\nimport { useContext, useEffect, useState } from 'react';\n\nconst Favorites = ({ changeFilter }) => {\n  const authContex = useContext(Auth);\n  const user = authContex.currentUser.email;\n  const filter = useContext(FilterContex);\n\n  const [teachersList, setTeachersList] = useState([]);\n\n  const updateList = () => {\n    const dbRef = ref(database, 'teachers');\n\n    onValue(dbRef, snapshot => {\n      const list = snapshot\n        .val()\n        .filter(item => item.owner && item.owner.includes(user));\n      setTeachersList(list);\n    });\n  };\n\n  useEffect(() => {\n    if (!filter) return;\n\n    if (filter.filter === 'price_per_hour') {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter] <= filter.value)\n      );\n    } else {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter].includes(filter.value))\n      );\n    }\n  }, [filter]);\n\n  useEffect(() => {\n    const dbRef = ref(database, 'teachers');\n\n    onValue(dbRef, snapshot => {\n      const list = snapshot\n        .val()\n        .filter(item => item.owner && item.owner.includes(user));\n      setTeachersList(list);\n    });\n  }, [user]);\n\n  return (\n    <Container>\n      <Wrapper>\n        <Filter changeFilter={changeFilter} updateList={updateList} />\n        <TeacherList teachersList={teachersList} />\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Favorites;\n"],"names":["_ref","changeFilter","user","useContext","Auth","currentUser","email","filter","FilterContex","teachersList","setTeachersList","useState","useEffect","prevState","item","value","includes","dbRef","ref","database","onValue","snapshot","list","val","owner","_jsx","Container","children","_jsxs","Wrapper","Filter","updateList","TeacherList"],"sourceRoot":""}