{"version":3,"file":"static/js/395.69c4b59f.chunk.js","mappings":"kNA6DA,UArDkB,SAAC,GAAsB,IAApBA,EAAmB,EAAnBA,aAEbC,GADaC,EAAAA,EAAAA,YAAWC,EAAAA,GACNC,YAAYC,MAC9BC,GAASJ,EAAAA,EAAAA,YAAWK,EAAAA,GAE1B,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAsCA,OAzBAC,EAAAA,EAAAA,YAAU,WACHL,IAEiB,mBAAlBA,EAAOA,OACTI,GAAgB,SAAAE,GAAS,OACvBA,EAAUN,QAAO,SAAAO,GAAI,OAAIA,EAAKP,EAAOA,SAAWA,EAAOQ,KAAlC,GADE,IAIzBJ,GAAgB,SAAAE,GAAS,OACvBA,EAAUN,QAAO,SAAAO,GAAI,OAAIA,EAAKP,EAAOA,QAAQS,SAAST,EAAOQ,MAAxC,GADE,IAI5B,GAAE,CAACR,KAEJK,EAAAA,EAAAA,YAAU,WACR,IAAMK,GAAQC,EAAAA,EAAAA,IAAIC,EAAAA,GAAU,aAE5BC,EAAAA,EAAAA,IAAQH,GAAO,SAAAI,GACb,IAAMC,EAAOD,EACVE,MACAhB,QAAO,SAAAO,GAAI,OAAIA,EAAKU,OAASV,EAAKU,MAAMR,SAASd,EAAtC,IACdS,EAAgBW,EACjB,GACF,GAAE,CAACpB,KAGF,SAAC,IAAD,WACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAQD,aAAcA,EAAcwB,WAvCvB,WACjB,IAAMR,GAAQC,EAAAA,EAAAA,IAAIC,EAAAA,GAAU,aAE5BC,EAAAA,EAAAA,IAAQH,GAAO,SAAAI,GACb,IAAMC,EAAOD,EACVE,MACAhB,QAAO,SAAAO,GAAI,OAAIA,EAAKU,OAASV,EAAKU,MAAMR,SAASd,EAAtC,IACdS,EAAgBW,EACjB,GACF,KA+BK,SAAC,IAAD,CAAaZ,aAAcA,QAIlC,C","sources":["pages/Favorites.jsx"],"sourcesContent":["import { Auth, FilterContex } from 'context';\nimport { Container, Wrapper } from './ListPage.styled';\nimport Filter from 'components/Filter/Filter';\nimport TeacherList from 'components/TeacherList/TeacherList';\nimport { database } from 'firebase-config';\nimport { onValue, ref } from 'firebase/database';\nimport { useContext, useEffect, useState } from 'react';\n\nconst Favorites = ({ changeFilter }) => {\n  const authContex = useContext(Auth);\n  const user = authContex.currentUser.email;\n  const filter = useContext(FilterContex);\n\n  const [teachersList, setTeachersList] = useState([]);\n\n  const updateList = () => {\n    const dbRef = ref(database, 'teachers');\n\n    onValue(dbRef, snapshot => {\n      const list = snapshot\n        .val()\n        .filter(item => item.owner && item.owner.includes(user));\n      setTeachersList(list);\n    });\n  };\n\n  useEffect(() => {\n    if (!filter) return;\n\n    if (filter.filter === 'price_per_hour') {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter] <= filter.value)\n      );\n    } else {\n      setTeachersList(prevState =>\n        prevState.filter(item => item[filter.filter].includes(filter.value))\n      );\n    }\n  }, [filter]);\n\n  useEffect(() => {\n    const dbRef = ref(database, 'teachers');\n\n    onValue(dbRef, snapshot => {\n      const list = snapshot\n        .val()\n        .filter(item => item.owner && item.owner.includes(user));\n      setTeachersList(list);\n    });\n  }, [user]);\n\n  return (\n    <Container>\n      <Wrapper>\n        <Filter changeFilter={changeFilter} updateList={updateList} />\n        <TeacherList teachersList={teachersList} />\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Favorites;\n"],"names":["changeFilter","user","useContext","Auth","currentUser","email","filter","FilterContex","useState","teachersList","setTeachersList","useEffect","prevState","item","value","includes","dbRef","ref","database","onValue","snapshot","list","val","owner","updateList"],"sourceRoot":""}